{{- if ne .Site.Params.footer.enable false -}}
    <footer class="footer">
        <div class="footer-container">
            {{- /* Custom Content */ -}}
            {{- with .Site.Params.footer.custom -}}
                <div class="footer-line">
                    {{- safeHTML . -}}
                </div>
            {{- end -}}

            {{- /* Hugo and DoIt */ -}}
            {{- if ne .Site.Params.footer.hugo false -}}
                <div class="footer-line">
                    {{- $hugo := printf `<a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo %v">Hugo</a>` hugo.Version -}}
                    {{- $theme := .Scratch.Get "version" | printf `<a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreffer" title="DoIt %v"><i class="far fa-edit fa-fw"></i> DoIt</a>` -}}
                    {{- dict "Hugo" $hugo "Theme" $theme | T "poweredBySome" | safeHTML }}
                </div>
            {{- end -}}

            <div class="footer-line">
                {{- /* Copyright year */ -}}
                {{- if ne .Site.Params.footer.copyright false -}}
                    <i class="far fa-copyright fa-fw"></i>
                    {{- with .Site.Params.footer.since -}}
                        <span itemprop="copyrightYear">
                            {{- if lt . now.Year }}{{ . }} - {{ end }}{{ now.Year -}}
                        </span>
                    {{- else -}}
                        <span itemprop="copyrightYear">{{ now.Year }}</span>
                    {{- end -}}
                {{- end -}}

                {{- /* Author */ -}}
                {{- if ne .Site.Params.footer.author false -}}
                    <span class="author" itemprop="copyrightHolder">&nbsp;<a href="{{ $.Site.Author.link | default .Site.Home.RelPermalink }}" target="_blank" rel="noopener noreferrer">{{ .Site.Author.name }}</a></span>
                {{- end -}}

                {{- /* License */ -}}
                {{- with .Site.Params.footer.license -}}
                    &nbsp;|&nbsp;<span class="license">{{ . | safeHTML }}</span>
                {{- end -}}

                {{- /* ICP */ -}}
                {{- with .Site.Params.footer.icp -}}
                    <span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">{{ . | safeHTML }}</span>
                {{- end -}}
            </div>
        </div>
        {{- /* PWA */ -}}
        {{- if eq .Site.Params.enablePWA true -}}
            {{- if eq hugo.Environment "production" -}}
                <script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                                //console.log('Service Worker Registered');
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                                //console.log('Service Worker Ready');
                            });
                    }
                </script>
            {{- end -}}
        {{- end -}}
       
    </footer>


<!-- 鼠标点击爆炸效果 -->
<script type="text/javascript" src="/js/clickeffect_boom.js"></script>

<!-- Live2D，网页上的小人，可以修改live2d_config.js来修改模型，模型都在static/live2d_models里面 -->
<script type="text/javascript" src="/js/L2Dwidget.min.js"></script>
<script type="text/javascript" src="/js/L2Dwidget.0.min.js"></script>
<script type="text/javascript" src="/js/live2d_config.js"></script>

<!-- chrome的调试模式console里面输出的内容 -->
<script type="text/javascript" src="/js/console_output.js"></script>

<!-- 博客运行时间 -->
<div class="footer-line" style="text-align: center; color:chocolate; font-size: xx-small;">
    <span id="run-time"></span>
</div>
<script type="text/javascript" src="/js/blog_uptime.js"></script>

{{- end -}}
